<header>
  <div class="container">
    <div class="header-top">
      <!-- Logo -->
      <div class="logo">
        <a href="${pageContext.request.contextPath}/" style="text-decoration: none; color: inherit;">Bookly</a>
      </div>

      <!-- Mobile Nav Toggle Icon -->
      <button class="nav-toggle" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
        <!-- Requires FontAwesome -->
      </button>

      <!-- Search Bar -->
      <form
        class="search-bar"
        action="/search"
        method="get"
        role="search"
      >
        <input type="text" name="query" placeholder="Search..." />
        <button class="search-btn" type="submit">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>

<!-- User Actions -->
<div class="user-actions" id="user-actions">
  <a href="${pageContext.request.contextPath}/cart" class="cart-icon">
    <i class="fas fa-shopping-cart"></i>
  </a>

  <c:choose>
    <c:when test="${not empty sessionScope.user}">
      <div class="dropdown">
        <button class="dropdown-toggle">
          <i class="fas fa-user-circle"></i>
          ${sessionScope.user.username}
        </button>
        <div class="dropdown-menu">
          <a href="${pageContext.request.contextPath}/user/profile">
            <i class="fas fa-user"></i> Profile
          </a>
          <a href="${pageContext.request.contextPath}/user/logout">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </div>
      </div>
    </c:when>
    <c:otherwise>
      <a class="login-btn" href="${pageContext.request.contextPath}/user/login">Login</a>
    </c:otherwise>
  </c:choose>
</div>


    <!-- Main Navigation -->
    <nav class="nav-main">
      <ul class="nav-links">
        <li><a href="/" class="active">Home</a></li>
        <li><a href="/book">Books</a></li>
        <li><a href="/category">Categories</a></li>
        <li><a href="/publisher">Publishers</a></li>
        <li><a href="/about-us">About</a></li>
      </ul>
    </nav>
  </div>
</header>
